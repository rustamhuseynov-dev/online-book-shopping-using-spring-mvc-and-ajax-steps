<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<title>Alıcı</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<link th:href="@{/styles/customer.css}" rel="stylesheet">
	<style>

	</style>
</head>

<body>
	<div th:replace="~{menu :: menu}"></div>
	<div id="main-content">
		
	</div>
	<button id="openBasketBtn" class="btn btn-primary">Səbət <span class="badge badge-light">0</span></button>";
	<input id="searchInput" class="form-control" placeholder="Search">"
	<script>
		var xht = new XMLHttpRequest();
		xht.onreadystatechange = function () {
			if (this.readyState == 4 && this.status == 200) {
				var responseJSON = this.responseText
				var booksArray = JSON.parse(responseJSON)
				console.log(booksArray)
				var mainContent = document.getElementById('main-content');
				var mainContentHtml="";
				for(var i = 0;i<booksArray.length;i++){
					var book = booksArray[i];
					mainContentHtml+="<div class='book-container'>";
					mainContentHtml+="<div class='book'>";
					mainContentHtml+="<span class='book-image'></span>";
					mainContentHtml+="<span class='book-name' title='"+book.name+"'>"+book.name+"</span>";
					mainContentHtml+="<span class='book-price' title='"+book.price+"'>"+book.price+"</span>";
					mainContentHtml+="<span class='book-description' title='"+book.description+"'>"+book.description+"</span>";
					mainContentHtml+="<span class='book-author' title='"+book.author+"'>"+book.author+"</span>";
					mainContentHtml+="<span class='book-pageCount' title='"+book.pageCount+"'>"+book.pageCount+"</span>";
					mainContentHtml+="<div class='addToBasket'><button class='addToBasketBtn btn btn-primary'>Səbətə at</button></div>";
					mainContentHtml+="</div></div>";	
				}
				    mainContent.innerHTML=mainContentHtml;
			}      
		}
		xht.open("GET", "/rest/books", true);
		xht.send()
	</script>
</body>

</html>